const tabAllOption = [
    {
        expresion: "on",
        partieMotUn: "li",
        partieMotDeux: "on",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ou",
        partieMotUn: "s",
        partieMotDeux: "ou",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "oi",
        partieMotUn: "r",
        partieMotDeux: "oi",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "eu",
        partieMotUn: "j",
        partieMotDeux: "eu",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "an",
        partieMotUn: "pl",
        partieMotDeux: "an",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "en",
        partieMotUn: "d",
        partieMotDeux: "en",
        partieMotTroix: "t",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "in",
        partieMotUn: "lap",
        partieMotDeux: "in",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ui",
        partieMotUn: "n",
        partieMotDeux: "ui",
        partieMotTroix: "t",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "eau",
        partieMotUn: "bat",
        partieMotDeux: "eau",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ai",
        partieMotUn: "",
        partieMotDeux: "ai",
        partieMotTroix: "me",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ei",
        partieMotUn: "p",
        partieMotDeux: "ei",
        partieMotTroix: "ne",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "un",
        partieMotUn: "br",
        partieMotDeux: "un",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "au",
        partieMotUn: "",
        partieMotDeux: "au",
        partieMotTroix: "to",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ein",
        partieMotUn: "p",
        partieMotDeux: "ein",
        partieMotTroix: "ture",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ain",
        partieMotUn: "m",
        partieMotDeux: "ain",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "om",
        partieMotUn: "",
        partieMotDeux: "om",
        partieMotTroix: "bre",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "im",
        partieMotUn: "",
        partieMotDeux: "im",
        partieMotTroix: "portant",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "am",
        partieMotUn: "",
        partieMotDeux: "am",
        partieMotTroix: "bulance",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "em",
        partieMotUn: "",
        partieMotDeux: "em",
        partieMotTroix: "baller",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "tion",
        partieMotUn: "atten",
        partieMotDeux: "tion",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ph",
        partieMotUn: "",
        partieMotDeux: "ph",
        partieMotTroix: "oto",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "et",
        partieMotUn: "jou",
        partieMotDeux: "et",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ette",
        partieMotUn: "mouf",
        partieMotDeux: "ette",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "oin",
        partieMotUn: "f",
        partieMotDeux: "oin",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ez",
        partieMotUn: "n",
        partieMotDeux: "ez",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "er",
        partieMotUn: "jou",
        partieMotDeux: "er",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ien",
        partieMotUn: "ch",
        partieMotDeux: "ien",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ian",
        partieMotUn: "sour",
        partieMotDeux: "ian",
        partieMotTroix: "t",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "gn",
        partieMotUn: "li",
        partieMotDeux: "gn",
        partieMotTroix: "e",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "gue",
        partieMotUn: "va",
        partieMotDeux: "gue",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "gui",
        partieMotUn: "",
        partieMotDeux: "gui",
        partieMotTroix: "mauve",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ch",
        partieMotUn: "",
        partieMotDeux: "ch",
        partieMotTroix: "ut!",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ca",
        partieMotUn: "",
        partieMotDeux: "caca",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "co",
        partieMotUn: "",
        partieMotDeux: "coco",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "cu",
        partieMotUn: "",
        partieMotDeux: "cu",
        partieMotTroix: "lotte",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ce",
        partieMotUn: "",
        partieMotDeux: "ce",
        partieMotTroix: "rise",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ci",
        partieMotUn: "",
        partieMotDeux: "ci",
        partieMotTroix: "tron",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ga",
        partieMotUn: "",
        partieMotDeux: "ga",
        partieMotTroix: "rage",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "go",
        partieMotUn: "",
        partieMotDeux: "go",
        partieMotTroix: "!",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "gu",
        partieMotUn: "lé",
        partieMotDeux: "gu",
        partieMotTroix: "me",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ge",
        partieMotUn: "",
        partieMotDeux: "ge",
        partieMotTroix: "nou",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "gi",
        partieMotUn: "",
        partieMotDeux: "gi",
        partieMotTroix: "rafe",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "elle",
        partieMotUn: "b",
        partieMotDeux: "elle",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ille",
        partieMotUn: "f",
        partieMotDeux: "ille",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "aille",
        partieMotUn: "p",
        partieMotDeux: "aille",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "ouille",
        partieMotUn: "gren",
        partieMotDeux: "ouille",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "eille",
        partieMotUn: "ab",
        partieMotDeux: "eille",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "euille",
        partieMotUn: "f",
        partieMotDeux: "euille",
        partieMotTroix: "",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
    {
        expresion: "qu",
        partieMotUn: "",
        partieMotDeux: "qu",
        partieMotTroix: "atre",
        audioSourceExpresion: "./medias/audio/lego_test-sound.mp3",
        audioSourceMots: "./medias/audio/lego_test-sound.mp3",
        audioVolume: 0.5,
        imgSource: "./medias/img/photojeu/test/annee-v2.jpg",
    },
];

let whereYouAre;
const nextBtn = document.querySelector('.next');
let numberOfClick = 0;
let numberOfClickSecond = 0;
let defaultRewardAudioVolume = 0.8;
let volumeSound;
const volumeSlider = document.querySelector('#volumeSlider');
const firstLine = document.querySelector('.firstLine');
const secondLine = document.querySelector('.secondLine');
const lastLine = document.querySelector('.lastLine');
const noSoundIcon = document.querySelectorAll('.noSoundIcon');

/* Check old volume */
if (localStorage.getItem('volumeSound') != null) {
    let valueVolumeStorage = localStorage.getItem('volumeSound');
    volumeSlider.value = valueVolumeStorage;
    volumeSound = (valueVolumeStorage / 100);
    console.log(volumeSlider.value);
    console.log(volumeSound);
}

checkValueVolume(76, lastLine, volumeSlider.value);
checkValueVolume(26, secondLine, volumeSlider.value);
checkValueVolume(5, firstLine, volumeSlider.value);
checkIfNoSound(5);

/* Change volume with slider */
volumeSlider.addEventListener('change', () => {
    let currentValue = (volumeSlider.value / 100);
    volumeSound = currentValue;
    console.log(currentValue);

    checkValueVolume(76, lastLine, volumeSlider.value);
    checkValueVolume(26, secondLine, volumeSlider.value);
    
    checkIfNoSound(5);

    setLocalStorageOFVolume(volumeSlider.value);
});

function checkIfNoSound(number) {
    if (volumeSlider.value < number) {
        noSoundIcon.forEach((el) => {
            el.classList.remove('hidden');
        });
        addHidden(firstLine);
    } else {
        noSoundIcon.forEach((el) => {
            el.classList.add('hidden');
        });
        removeHidden(firstLine);
    }
}

function currentVolume(volumeElement) {
    let value = (volumeElement.value / 100);
    return value;
}

/* Change volume level */
function checkValueVolume(number, element, volumeElement) {
    if (volumeElement < number) {
        addHidden(element);
        console.log('less than ' + number);
    }
    else if (volumeElement >= number) {
        removeHidden(element);
        console.log('more than ' + number);
    }
}

/*rempresente a quelle étape l'utilisateur est rendu + localStorage*/
if (localStorage.getItem('whereYouAre') != null) {
    let valueWhereYouAre = localStorage.getItem('whereYouAre');
    whereYouAre = valueWhereYouAre;
    if (tabAllOption[whereYouAre] == null) {
        whereYouAre = 0;
    }
    restartWithNew(whereYouAre, nextBtn);
} else {
    whereYouAre = 0;
    restartWithNew(whereYouAre, nextBtn);
}

/* Functions : */
function setLocalStorageOFLocation(location) {
    localStorage.setItem("whereYouAre", location);
}

function setLocalStorageOFVolume(volume) {
    localStorage.setItem("volumeSound", volume);
}

function clearProgress() {
    localStorage.clear();
}

function addHidden(element) {
    if (!element.classList.contains('hidden')) {
        element.classList.add('hidden');
    }
}
function removeHidden(element) {
    if (element.classList.contains('hidden')) {
        element.classList.remove('hidden');
    }
}

function stopSpeech() {
    speechSynthesis.cancel();
}

/* Menu */
const menu = document.querySelector('.sideMenu');
const contentMenu = document.querySelector('.contentMenu');
const sideMenuCheck = document.querySelector('#sideMenuCheck');
const btnMenu = document.querySelector('.btnMenu');

/* function pour verifier ou est l'utilisateur*/
function checkOption(color) {
    let newOptions = document.querySelectorAll('.option');
    newOptions.forEach((el, index) => {
        if (index == whereYouAre) {
            el.style.backgroundColor = color;
        } else {
            el.style.backgroundColor = '';
        }
    });
}

/* Créé les options dans le menu */
tabAllOption.forEach((el) => {
    console.log('test ' + el.expresion);
    contentMenu.innerHTML += `
    <div id="${el.expresion}" class="option">
    ${el.expresion}
    </div>
    `;

    /* Ajoute des évenement au options du menu */
    let options = document.querySelectorAll('.option');
    options.forEach((el, index) => {
        if (index == whereYouAre) {
            el.style.backgroundColor = '#2a4c44';
        }
        el.addEventListener('click', () => {
            whereYouAre = index;
            restartWithNew(index, nextBtn);
            checkOption('#2a4c44');
        });
    });
});




/*Fuction pour aller a une nouvelle option + son déroulement*/
function restartWithNew(number, btnToContinue) {
    let isAnswerActive = false;
    let isImageBtnActive = false;
    let content = document.querySelector('.content');
    numberOfClick = 0;
    numberOfClickSecond = 0;
    content.innerHTML = `
    <div class="textContent textContent--1">
        <h1>${tabAllOption[number].expresion}</h1>
        <button class="audioBtn">
            <svg viewBox="0 0 343 266" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 160.5V106C9 103.239 11.2386 101 14 101H72.8315C74.2149 101 75.5365 100.427 76.4819 99.4168L124.85 47.7419C127.948 44.4312 133.5 46.6241 133.5 51.1587V209.792C133.5 214.194 128.222 216.448 125.042 213.404L76.4501 166.888C75.5195 165.997 74.2809 165.5 72.9926 165.5H14C11.2386 165.5 9 163.261 9 160.5Z" stroke="black" stroke-width="18"/>
                <path d="M171 179C171 179 206 171.45 206 131.712C206 91.9738 171 88 171 88" stroke="black" stroke-width="18" stroke-linecap="round"/>
                <path d="M215 222C215 222 266.5 198.5 266.5 131.5C266.5 64.5 215 40 215 40" stroke="black" stroke-width="18" stroke-linecap="round"/>
                <path d="M260 257C260 257 331.5 221 333 129.5C334.5 38 260 9 260 9" stroke="black" stroke-width="18" stroke-linecap="round"/>
                </svg>                    
        </button>
        <button class="readText">
            Lire (robot)
        </button>
    </div>
    <div class="textContent textContent--2">
        <button class="answer hidden">Mot</button>
        <h3 class="textAnswer hidden">${tabAllOption[number].partieMotUn}<em>${tabAllOption[number].partieMotDeux}</em>${tabAllOption[number].partieMotTroix}</h3>
        <button class="audioBtn audioBtn--answer hidden">
            <svg viewBox="0 0 343 266" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 160.5V106C9 103.239 11.2386 101 14 101H72.8315C74.2149 101 75.5365 100.427 76.4819 99.4168L124.85 47.7419C127.948 44.4312 133.5 46.6241 133.5 51.1587V209.792C133.5 214.194 128.222 216.448 125.042 213.404L76.4501 166.888C75.5195 165.997 74.2809 165.5 72.9926 165.5H14C11.2386 165.5 9 163.261 9 160.5Z" stroke="black" stroke-width="18"/>
                <path d="M171 179C171 179 206 171.45 206 131.712C206 91.9738 171 88 171 88" stroke="black" stroke-width="18" stroke-linecap="round"/>
                <path d="M215 222C215 222 266.5 198.5 266.5 131.5C266.5 64.5 215 40 215 40" stroke="black" stroke-width="18" stroke-linecap="round"/>
                <path d="M260 257C260 257 331.5 221 333 129.5C334.5 38 260 9 260 9" stroke="black" stroke-width="18" stroke-linecap="round"/>
                </svg> 
        </button>
        <button class="readText hidden">
            Lire (robot)
        </button>
    </div>
    
    <button class="reward hidden">Image</button>
    
    <div class="img hidden"></div>
    `;
    let answerBtn = document.querySelector('.answer');
    let rewardBtn = document.querySelector('.reward');
    let img = document.querySelector('.img');
    img.style.backgroundImage = `url(${tabAllOption[number].imgSource})`;

    let readText = document.querySelectorAll('.readText');

    let voices;


    speechSynthesis.onvoiceschanged = function() {
        voices = window.speechSynthesis.getVoices();
        console.log(voices);
    }

    readText[0].addEventListener('click', () => {
        let textToRead = tabAllOption[number].expresion;

        let speech = new SpeechSynthesisUtterance(textToRead);
        speech.lang = "fr-CA";
        speech.volume = volumeSound;
        /* Fr-CA Option : 
        5 - Microsoft Caroline
        6 - Microsoft Claude
        7 - Microsoft Nathalie 
        */
        if (window.speechSynthesis.getVoices()[5] != null) {
            speech.voice = window.speechSynthesis.getVoices()[5];
        }
        speechSynthesis.speak(speech);

        if (numberOfClick >= 2 && isAnswerActive == false) {
            answerBtn.classList.remove('hidden');
            isAnswerActive = true;
        }
        numberOfClick++;
        console.log('numberOfClick : ' + numberOfClick);
    });

    readText[1].addEventListener('click', () => {
        let textToRead = tabAllOption[number].partieMotUn + tabAllOption[number].partieMotDeux + tabAllOption[number].partieMotTroix;

        let speech = new SpeechSynthesisUtterance(textToRead);
        speech.lang = "fr-CA";
        speech.volume = volumeSound;
        /* Fr-CA Option : 
        5 - Microsoft Caroline
        6 - Microsoft Claude
        7 - Microsoft Nathalie 
        */
        if (window.speechSynthesis.getVoices()[5] != null) {
            speech.voice = window.speechSynthesis.getVoices()[5];
        }
        speechSynthesis.speak(speech);

        if (numberOfClickSecond >= 2 && isImageBtnActive == false) {
            rewardBtn.classList.remove('hidden');
            isImageBtnActive = true;
        }
        numberOfClickSecond++;
        console.log('numberOfClickSecond : ' + numberOfClickSecond);
    });

    /* Bouttons d'audio */
    let newAudioBtn = document.querySelectorAll('.audioBtn');

    newAudioBtn[0].addEventListener('click', () => {
        let audioTestOne = new Audio(`${tabAllOption[number].audioSourceExpresion}`);
        audioTestOne.volume = volumeSound;
        if (numberOfClick >= 2 && isAnswerActive == false) {
            answerBtn.classList.remove('hidden');
            isAnswerActive = true;
        }
        audioTestOne.play();
        numberOfClick++;
        console.log('numberOfClick : ' + numberOfClick);
    });
    
    newAudioBtn[1].addEventListener('click', () => {
        let audioTestTwo = new Audio(`${tabAllOption[number].audioSourceMots}`);
        audioTestTwo.volume = volumeSound;
        if (numberOfClickSecond >= 2 && isImageBtnActive == false) {
            rewardBtn.classList.remove('hidden');
            isImageBtnActive = true;
        }
        audioTestTwo.play();
        numberOfClickSecond++;
        console.log('numberOfClickSecond : ' + numberOfClickSecond);
    });

    /* Boutton réponse */
    answerBtn.addEventListener('click', () => {
        let textAnswer = document.querySelector('.textAnswer');

        textAnswer.classList.remove('hidden');
        newAudioBtn[1].classList.remove('hidden');
        readText[1].classList.remove('hidden');
        answerBtn.classList.add('hidden');
    });
    
    /* Boutton récompense */
    rewardBtn.addEventListener('click', () => {
        let audioReward = new Audio('./medias/audio/click-124467.mp3');
        if (volumeSlider.value == 50) {
            audioReward.volume = defaultRewardAudioVolume;
        } else {
            audioReward.volume = volumeSound;
        }
        
        audioReward.play();

        let img = document.querySelector('.img');
        rewardBtn.classList.add('hidden');
        let textContent = document.querySelectorAll('.textContent');
        textContent.forEach((el) => {
            el.classList.add('hidden');
        });
    
        img.classList.remove('hidden');

        btnToContinue.classList.remove('hidden');
    });

    checkOption('#2a4c44');
    setLocalStorageOFLocation(number);
}

/*Evenement enclancher a chaque click sur le bouton "next"*/
nextBtn.addEventListener('click', () => {
    nextBtn.classList.add('hidden');
    whereYouAre++;
    if (tabAllOption[whereYouAre] != null) {
        /*Va jusqu'au dernier dans les options*/
        restartWithNew(whereYouAre, nextBtn);
    } else {
        /*Recommence du début*/
        whereYouAre = 0;
        restartWithNew(0, nextBtn);
    }
});